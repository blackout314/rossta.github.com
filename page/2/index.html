<!doctype html>
<html>
  <head>
    <title>Home | Ross Kaffenberger</title>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="The homepage of Ross Kaffenberger.">
    <meta name="keywords" content="Ross Kaffenberger, software, software developer,
    ruby, javascript, web development, startups">
    <script type="text/javascript" src="//use.typekit.net/ned0mml.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/head.js" type="text/javascript"></script>
    <link href="/images/favicon.ico" rel="icon" type="image/ico" />
  </head>
  <body id="application" class="typekit">
    <nav id="welcome-nav" class="top-bar" data-topbar>
  <ul class="title-area">
    <li class="name">
      <h1><a class="logo" href="/">ross kaffenberger</a></h1>
    </li>
    <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
  </ul>

  <section class="top-bar-section">
    <ul class="right">
      <li><a href="/about">about</a></li>
      <li><a href="/projects">projects</a></li>
      <li><a href="/blog">blog</a></li>
      <li><a href="/feed.xml">feed</a></li>
    </ul>
  </section>
</nav>

    <div id="zen">
  <div class="row">
    <div class="enlightenment large-12 columns">I make things</div>
  </div>
</div>

    <div class="row">
      <section id="main" role="main" class="large-12 small-12 columns">
          <article class="index-post">
    <header>
      <h2>
        <a href="/blog/2013/03/why-i-ditched-wordpress-for-github.html">Why I Ditched Wordpress for Github</a>
        
      </h2>
    </header>
    <p>By statistics alone, Wordpress is a winner. According to the <a href="http://en.wikipedia.org/wiki/WordPress">stats on Wikipedia</a>, it is a clear favorite amongst the top and new websites worldwide. The sheer volume of options for plugins, themes and customizations are enough to make it worthwhile as a content platform; the admin tools make editing and publishing a breeze.</p>

<p>And yet, yesterday, I ditched Wordpress. This site is now hosted on <a href="http://pages.github.com/">Github Pages</a>.</p>

<p>So why switch? There are a few reasons. For one, site performance benefits of Pages over Wordpress have been <a href="http://mbmccormick.com/2011/10/ditching-wordpress-for-jekyll-and-github/">well-documented</a>. Now I don&#39;t have to worry about <a href="http://go.janleow.com/2011/06/my-wordpress-website-in-bluehost-is.html">Bluehost suspending my service</a> anymore. Pages is free. There&#39;s also my personal distaste for PHP, though it hasn&#39;t stopped me from hacking on my pages here and there.</p>

<p>There is, however, a more fundamental reason, illustrated when I ran into a close friend recently. My friend is brilliant and well-regarded in his field (finance). When he remarked on that fact that I had built my own website, my first thought was &ldquo;Well, not really&hellip;&rdquo;, though I said something more like &ldquo;Thanks!&rdquo; My friend and most people don&#39;t care if a website runs on Wordpress, Django, .Net or C#&hellip; but I do. If the general sentiment on Hacker News is any indication, most developers care as well. Many of us got into programming because we saw something that amazed us and we desperately wanted to know <em>how</em>.</p>

<p>To host on Github Pages means for me <a href="https://help.github.com/articles/creating-project-pages-manually">using git</a>, hand-crafting html and writing markdown in my editor of choice, building with <a href="http://jekyllrb.com/">tools</a> written in languages I love, and rolling my own theme built on <a href="http://foundation.zurb.com/">CSS frameworks</a> I like. It&#39;s a better representation of what I do and how I prefer to do it. Using Wordpress has always felt a bit disingenuous. And that&#39;s why I made the change.</p>


    <h2><small>Mar 25</small></h2>
    <div class="comments">
      <a href="/blog/2013/03/why-i-ditched-wordpress-for-github.html#disqus_thread">Comments</a>
    </div>
  </article>
  <article class="index-post">
    <header>
      <h2>
        <a href="/blog/2013/03/create-and-deploy-an-ember-app-in-5-minutes.html">Create and Deploy an Ember App in 5 Minutes</a>
        
      </h2>
    </header>
    <p>The <a href="https://github.com/emberjs/ember-rails">ember-rails</a> gem is a great way to get started with <a href="http://emberjs.com/">Ember.js</a> in a Rails project. Another approach is to create and serve an Ember app on a static webpage, totally decoupled from the backend environment. It would be great to have some of the modern front-end development tools we get with something like Rails in a static web environment. A great project to consider for this is <a href="http://middlemanapp.com/">Middleman</a>.</p>

<p>Middleman is a static website generator enhanced with some key tools like the asset pipeline. It works really well as an alternative to <a href="https://github.com/mojombo/jekyll">Jekyll</a> for rolling a blog. It’s comparable to <a href="http://yeoman.io/">Yeoman</a> for the benefits it provides for the front-end workflow, though the underlying tools both are quite different. Middleman builds on top of Rack and Sinatra, so you can take advantage of Rack middleware in development or deployment.</p>

<p>To install middleman:</p>

<p><code>$ gem install middleman</code></p>

<p>A key feature for getting up and running quickly with Middleman are its use of project templates. You can use some out-of-the-box templates for setting up a Middleman project with the <a href="http://html5boilerplate.com/">HTML5 Boilerplate</a>. I’ve got a fork of an <a href="https://github.com/rossta/middleman-ember-template">Ember app template</a> that you can download or clone into <code>~/.middleman/</code> to get up and running with ember-1.0.0-rc1 with ember-data. To start a new Middleman project with my ember template:</p>

<p>
$ git clone git://github.com/rossta/middleman-ember-template.git ~/.middleman/ember</p>

<p>$ middleman init my<em>new</em>project &ndash;template=ember</p>

<p>$ middleman server
</p>

<p>If everything worked, you should be able to navigate to http://localhost:4567 to see Hello World generated with Ember.</p>

<p>There are lots of options for deploying a Middleman app. To deploy easily with Heroku, we can use a <a href="https://devcenter.heroku.com/articles/buildpacks">buildpack</a>. Buildpacks are scripts that take advantage of hooks provided by the Heroku build process and also us to customize what happens when we run “git push heroku master”. For the app generated from my ember template, we’ll want this process to build the Middleman app, which will minify assets and provide cacheable asset urls through the asset pipeline, and serve it on Rack using the <a href="https://github.com/rack/rack-contrib/blob/master/lib/rack/contrib/try_static.rb">Rack::TryStatic</a> middleware. Luckily, there are already some buildpacks out there that fit these requirements. It’s easy to configure our Heroku app to use a custom buildpack via a git url</p>

<p>
$ heroku create my_app &ndash;buildpack git://github.com/indirect/heroku-buildpack-middleman.git</p>

<p>$ git push heroku master
</p>

<p>If everything worked, you should be able to see your static web Ember app served up on Heroku.</p>

<p>I gave a quick lightning talk on this topic at the <a href="http://www.meetup.com/EmberJS-NYC/events/100237642/">Ember.js NYC Meetup</a> yesterday. Check out the slides, <a href="https://speakerdeck.com/rossta/create-and-deploy-an-ember-app-in-5-minutes">also on Speaker Deck</a></p>

<script class="speakerdeck-embed" data-id="974b0d70647701301b1e12313b100525" data-ratio="1.29456384323641" src="//speakerdeck.com/assets/embed.js"></script>


    <h2><small>Mar  1</small></h2>
    <div class="comments">
      <a href="/blog/2013/03/create-and-deploy-an-ember-app-in-5-minutes.html#disqus_thread">Comments</a>
    </div>
  </article>
  <article class="index-post">
    <header>
      <h2>
        <a href="/blog/2012/02/presentation-intro-to-javascript-mvc.html">Presentation Intro to Javascript MVC</a>
        
      </h2>
    </header>
    <p>Today, I made a brown bag case to my colleagues: let’s approach client-side development in a more structured, disciplined and flexible way; in other words, add a model-view-controller javascript layer to our web app. Included is some background for the discussion and a brief introduction to Backbone.js. I use the phrase MV+ to embrace various implementations of MVC-like javascript frameworks, most of which have different takes on what object take on the responsibility for hooking up models and views.</p>

<p><a href="http://daftpunkjs.heroku.com/">Brown Bag Presentation: Javascript MV+</a></p>


    <h2><small>Feb  9</small></h2>
    <div class="comments">
      <a href="/blog/2012/02/presentation-intro-to-javascript-mvc.html#disqus_thread">Comments</a>
    </div>
  </article>
  <article class="index-post">
    <header>
      <h2>
        <a href="/blog/2011/12/toggle-rails-caching-in-rspec-suite.html">Toggle Rails Caching in RSpec Suites</a>
        
      </h2>
    </header>
    <p>A useful feature of RSpec is the ability to pass metadata to tests and suites. You may already be familiar with examples in <a href="https://github.com/jnicklas/capybara">Capybara</a>, such as passing <code>:js</code> to enable the javascript driver for a given spec. You may reach a point in the maturity of your test suite when it makes sense add your own configuration options.</p>

<p>Once you introduce caching in your view layer, it can be easy for bugs to crop up around expiry logic. Since the Rails test environment ships with controller caching disabled, it may be useful to be able to toggle it on/off during the test run. To provide an optional caching mechanism for your specs, configure an around block:</p>

<pre><code class="ruby">RSpec.configure do |config|
  config.around(:each, :caching) do |example|
    caching = ActionController::Base.perform_caching
    ActionController::Base.perform_caching = example.metadata[:caching]
    example.run
    ActionController::Base.perform_caching = caching
  end
end
</code></pre>

<p>The around block takes the RSpec example object as an argument. The block is triggered when :caching is detected as a key in an example’s metadata. The example object provides a number of methods for test introspection, allowing you to make changes before and after calling run to execute the spec. Here, we are storing the previously set value of <code>ActionContoller::Base.perform_caching</code>, setting it for the local suite, and setting it back to the original value after it completes.</p>

<p>As a result, we now have a simple, explicit mechanism for introducing caching to individual specs and suites:</p>

<pre><code class="ruby">describe &quot;visit the homepage&quot;, :caching =&gt; true do
  # test cached stuff
end
</code></pre>

<p>Happy testing.</p>


    <h2><small>Dec 22</small></h2>
    <div class="comments">
      <a href="/blog/2011/12/toggle-rails-caching-in-rspec-suite.html#disqus_thread">Comments</a>
    </div>
  </article>
  <article class="index-post">
    <header>
      <h2>
        <a href="/blog/2011/10/when-your-fat-models-need-to-go-on-a-diet-part-2.html">When Your Fat Models Need to Go on a Diet, Part 2</a>
        
      </h2>
    </header>
    <p>In <a href="http://www.rosskaff.com/2011/09/when-your-fat-models-need-to-go-on-a-diet">part 1</a> of this post, I talked about using modules to help break source code of large models into smaller, comprehensible pieces. As <a title="XP in Anger" href="http://blog.arielvalentin.com/">Ariel Valentin</a> pointed out, we need to do more to lighten up the runtime memory footprint when large models are instantiated.</p>

<p>Let’s imagine we have an application with a <code>User</code> model (might not be a stretch) and we’re building a page that loads a bunch of user gravatars. Our <code>User</code> model has accumulated a ton of attributes, but we may only need a limited set to render the gravatar properly. We might add a line like this in the controller action to select only the needed attributes:</p>

<pre><code class="ruby">@users = User.select(%w[ id name gravatar_id ]).all
</code></pre>

<p>Perhaps to make this more readable, we’ll extract our select statement into a scope in the <code>User</code> model:</p>

<pre><code class="ruby"># user.rb
scope :select_gravatar_attributes, select(%w[ id name gravatar_id ])

# controller action
@users = User.select_gravatar_attributes.all
</code></pre>

<p>We’ll incur less memory overhead during this action at runtime since the app won’t have to load as much data. The caveat is that our <code>@users</code> won’t have access to the data we left behind, so we need to take care only to call methods that rely on the data we have actually loaded. It would be easier to test our lighter users if we could treat them as a different type.</p>

<p>Applying the model-slimming refactoring we discussed in <a href="http://www.rosskaff.com/2011/09/when-your-fat-models-need-to-go-on-a-diet/">part 1</a>, we can extract gravatar related functionality into a <code>UserExtensions::Gravatar</code> module and create a <code>Gravatar::User</code> that inherits from our <code>User</code> model. Furthermore, we can change our <code>select_gravatar_attributes</code> to a <code>default_scope</code> in the subclass, so whenever we grab <code>Gravatar::User</code> from the db, it’ll have only the attributes we need. Our controller action would now look like this:</p>

<pre><code class="ruby">@users = Gravatar::User.all
</code></pre>

<p>To put our savings to the test, we can run some basic benchmark tests. I created a sample rails 3.1 app and created ~2000 users records in my development database and ran the <code>rails benchmarker</code> script to load all users both normally and as gravatars. Here are the results:</p>

<p>All users</p>

<p><img alt="All users" src="/images/screenshots/user-perf-test.jpg" /></p>

<p>All as gravatars</p>

<p><img alt="All as gravatars" src="/images/screenshots/gravatar-user-perf-test.jpg" /></p>

<p>The memory footprint for gravatar users is half of that for our ‘fat’ users. Obviously results will vary greatly depending on architecture, application and the attributes selected, but this anecdotal case demonstrates potential for some big wins in instantiating slimmer subclasses of your heavy models.</p>


    <h2><small>Oct  3</small></h2>
    <div class="comments">
      <a href="/blog/2011/10/when-your-fat-models-need-to-go-on-a-diet-part-2.html#disqus_thread">Comments</a>
    </div>
  </article>

  <p>Page 2 of 4</p>
  
    <p><a href="/page/3/">Next page</a></p>
  
  
    <p><a href="/">Previous page</a></p>
  

<section>
  <a href="/blog">See all posts &raquo;</a>
</section>
  <script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'rosskaff'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
var s = document.createElement('script'); s.async = true;
s.type = 'text/javascript';
s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>


      </section>
      <section id="sidebar" role="sidebar" class="large-12 small-12 columns">
        <section id="extras">
  <aside>
    <h6>Recent Articles</h6>
    <ul>
      
        <li>
          <a href="/blog/2014/02/three-steps-to-effective-code-reviews.html">Three Steps to Effective Code Reviews</a>
        </li>
      
        <li>
          <a href="/blog/2014/02/ruby,-you-autocomplete-me.html">Ruby, You Autocomplete Me</a>
        </li>
      
        <li>
          <a href="/blog/2014/02/automatic-backups-to-amazon-s3-are-easy.html">Automatic Backups to Amazon S3 are Easy</a>
        </li>
      
        <li>
          <a href="/blog/2013/08/featured-post-for-speed-awareness-month.html">Featured Post for Speed Awareness Month</a>
        </li>
      
        <li>
          <a href="/blog/2013/03/configuring-rack-test-driver-in-capybara-2.html">Configuring Rack Test Driver in Capybara 2</a>
        </li>
      
    </ul>

    <h6>Tags</h6>
    <ul>
      
        <li><a href="/blog/tags/life.html">Life [4]</a></li>
      
        <li><a href="/blog/tags/code.html">Code [18]</a></li>
      
        <li><a href="/blog/tags/work.html">Work [1]</a></li>
      
    </ul>

    <h6>By Year</h6>
    <ul>
      
        <li><a href="/blog/2014.html">2014 [3]</a></li>
      
        <li><a href="/blog/2013.html">2013 [4]</a></li>
      
        <li><a href="/blog/2012.html">2012 [1]</a></li>
      
        <li><a href="/blog/2011.html">2011 [5]</a></li>
      
        <li><a href="/blog/2010.html">2010 [7]</a></li>
      
    </ul>
  </aside>

</section>

      </section>
    </div>
    <div class="row">
      <footer>
        <section class="large-12 columns center-inline-list">
          <ul class="inline-list">
  <li><a href="mailto:rosskaff@gmail.com">email</a></li>
  <li><a href="http://twitter.com/rossta">twitter</a></li>
  <li><a href="http://github.com/rossta">github</a></li>
</ul>

        </section>
      </footer>
    </div>
    <script src="/javascripts/all.js" type="text/javascript"></script>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-16458563-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

    <!--[if !(lt IE 8)]><!-->
   <script type="text/javascript">
     (function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=document.location.protocol+"//d1agz031tafz8n.cloudfront.net/thedaywefightback.js/widget.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()
   </script>
<!--<![endif]-->
  </body>
</html>
